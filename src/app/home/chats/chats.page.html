<ion-header>
	<ion-toolbar class="ion-no-padding">
		<div class="edit">
			<span>
				<ion-text color="primary" (click)="onClickEdit()">
					<h4>Edit</h4>
				</ion-text>
			</span>
			<span>
				<ion-icon
					slot="end"
					name="create"
					mode="ios"
					color="primary"
					(click)="onNewChat()"
				></ion-icon>
			</span>
		</div>
		<!-- <ion-title color="primary">
			<h1 style="font-size: 30px;">Chats</h1>
    </ion-title> -->
		<h1>Chats</h1>
		<ion-searchbar
			placeholder="Search..."
			(ionChange)="onSearchChange($event)"
			[debounce]="250"
			mode="ios"
		></ion-searchbar>
	</ion-toolbar>
</ion-header>

<ion-content class="ion-no-padding">
	<ion-grid>
		<ion-row>
			<ion-col size="12">
				<ion-list>
					<ion-item-sliding *ngFor="let item of loadedChats" #slidingControl>
						<ion-item
							[routerLink]="['/', 'home', 'tabs', 'chats', item.id]"
							detail
						>
							<ion-avatar>
								<ion-img [src]="item.imageUrl"></ion-img>
							</ion-avatar>
							<ion-label>
								<h3>{{ item.userName}}</h3>
								<p>{{ item.description }}</p>
							</ion-label>
						</ion-item>

						<ion-item-options side="start">
							<ion-item-option color="primary" (click)="onRead(slidingControl)">
								<ion-icon slot="icon-only" name="done-all">Read</ion-icon>
							</ion-item-option>

							<ion-item-option
								style="background-color: lightgray;"
								(click)="onPin(slidingControl)"
							>
								<ion-icon slot="icon-only" name="attach">Pin</ion-icon>
							</ion-item-option>
						</ion-item-options>

						<ion-item-options side="end">
							<ion-item-option
								style="background-color: lightgray;"
								(click)="onMore(slidingControl)"
							>
								<ion-icon slot="icon-only" name="more" mode="ios"
									>More</ion-icon
								>
							</ion-item-option>

							<ion-item-option
								color="primary"
								(click)="onArchive(slidingControl)"
							>
								<ion-icon slot="icon-only" name="archive">Archive</ion-icon>
							</ion-item-option>
						</ion-item-options>
					</ion-item-sliding>
				</ion-list>
			</ion-col>
		</ion-row>
	</ion-grid>
</ion-content>
